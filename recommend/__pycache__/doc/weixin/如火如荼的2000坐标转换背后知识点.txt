提了十几年的推广使用国家2000坐标系，在这两个月终于爆发了。国土资源系统（应该叫自然资源系统）2018年6月底前全部切入国家2000坐标系统，已经是最后通牒了。很多人可能还没有重视起来，依然以为这是非常简单soeasy的事儿，也许分分钟搞定；作为了测绘科班出身，地图投影课基本上都是睡觉的我，还是有一定的发言权的，和你们装逼一把：国家2000坐标系转换的背后到底隐藏了多少知识点？看看我们当初的地图投影课到底有多枯燥？！先随便抛几个名词吓唬一下大家。参心坐标系地心坐标系站心坐标系大地原点参考椭球基准面似大地水准面高斯克吕格投影坐标转换坐标变换二维七参转换模型三维七参转换模型……俗话说：欠的迟早都要还的。毕业后我遇到的第一个工作难点就是坐标系转换；没有办法就和博士媳妇一起重新研究了一周地图投影，终于按照我们的理解算是弄明白了。整理过一篇PPT可以查看详情《那些年，我们一起读过的地图投影》。我尽可能用最简短的文字说下如何理解坐标系及投影。你站在浩瀚的太空来看地球，地球就是一个小球，他飘在太空中；如果把整个太空作为一个空间，如何确定地球的坐标位置呢？解决第一件事：定位；拿一个坐标框去卡地球，把中心固定，那么地球就不会前后动了；但，光定位的话，地球还会随意旋转；那么解决第二件事：定向；规定好X\Y\Z方向，地球就像上了五花大绑动不了。地球是曲面，展不开；如何平面成图呢？假设地球里面有盏灯，地球表面的地物就是投到墙上，就解决了曲面到平面的问题，这就是地图投影。其实，有N种办法将地球曲面转到平面，所以也就有了N个地图投影方法了，比如高斯投影、罗宾逊……回到前面，刚才去卡地球的方法同样有N种，那么也就有了N个坐标系了，比如北京54，西安80，WGS84，国家2000……你只要记住一点，坐标系和投影没有直接对应关系，他们可以任意组合。下一步的理解就是我们要谈的坐标转换的事情了。刚才去卡地球后，其实我们还有一件事需要做的，就是地球的大小（专业术语地球参数）。定位、定向以后，我们要把地球到底多大规定好？有人讲，地球不就一个吗？听这意思还不一样。是的，因为地球不是正圆或者正椭圆，有高和低；那么为了和自己国家地形最贴合肯定是选择有利于自己国家的一面了；那么北京54，西安80，国家2000就可以理解为是不同的地球了，连大小都不一样。如今，我们需要将西安80转到国家2000，会有哪些问题呢？先做两个比喻：西安80是排球，国家2000是篮球，排球上的明星签名转换到篮球上，由于大小不一样，这个签名转换后肯定就变形了，也就是我们说的误差。并且这种误差，再牛逼的你也不可避免，因为首先球的大小都不一样。那么一般转换逻辑是怎么样的呢？可以做一个思考正常我们看到的数据都是平面的，都是投影过的；要转另一个球下的坐标系，正常逻辑应该是这样的。比如西安80的转到国家2000。西安80的投影平面――》西安80的球上――》国家2000的球上――》国家2000投影。其中，投影转换到球，球转换到平面投影都是可逆的，无误差的，他们都是数学公式实现的。重点在西安80的球转国家2000的球，大脑中想象两个球，一个在左边，一个在右边；1、先把左边的球移到和右边一样的位置，球的中心点重合起来，我们需要移动X轴，Y轴，Z轴，三个参数。2、发现两个虽然中心点重合了，但方向不对，我们需要旋转X轴，Y轴，Z轴，三个参数。3、如今，位置和方向都重合了，发现好像球大小不一样，那么还得放大一个球，叫比例因子，一个参数。这样也就是我们说的七参数了。具体公式可以作为装逼看一下：再次提醒，不同球转换是有误差的，并且不可避免。回到眼前的工作：本次国土资源数据转换到国家2000怎么做呢？第一个：需要求出来转换需要的七参数。第二个：做平差处理。第三个：精度评定。七参数怎么算？理论上很简单，就是同时知道三个点的西安80坐标值和国家2000坐标值，然后计算公式求解。几个小细节，如果没有怎么办？需要通过架设GPS进行测绘，或者当地测绘局申请（参数好像是绝密，一般不给）。再一个细节，到底几个点合适，根据行政区域大小，均匀分布，最好是D级以上控制点。再回到前面说的，误差问题，各区域单独转换后数据肯定无法接边，需要做平差处理。最后的精度评定较为简单，按照前面七参数点位选择、测绘标准来就行，附一个别人论文研究的精度评定结论吧。结论是：从表2中可以看到在X方向上最大值为0．0084，Y方向上的最大值为0．0052，Z方向上的最大值为0．0104，中误差残差最大值为0．0055，可完全满足工程测量需求。从以上结果能看到不同的七参数对结果的影响并不明显，5个公共点转换的坐标相对精度高一些。做个广告，我觉得坐标转换的事，可以找小胡子搞搞。